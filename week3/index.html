<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 網頁標題-->
  <title>網頁標題</title>
  <link rel="stylesheet" type="text/css" href="hw1.css"/>
</head>
<body class="body">
  <!-- 網頁內容 -->
<div class="top">
    <div class="top_left">
        <div class="titlename">My Website</div>
    </div>
    <div class="top_right">
        <div class="item">Item1</div>
        <div class="item">Item2</div>
        <div class="item">Item3</div>
        <div class="item">Item4</div>
    </div>
    <div class="showham">
        <img class="menu" src="menu.png">
    </div>
</div>
<div class="welcome">
    <div class="welcontent">Welcome to MyHome</div>
</div>
<div class="main">
    <div class="mainbody">
        <div class="promo">
            <!-- JS取代內容
            <div class="promocontent">

                <img  class="promoimage" src="content.jpg">
                <div>Promotion1</div>
            </div>
            <div class="promocontent">
                <img  class="promoimage" src="content.jpg">
                <div>Promotion2</div>
            </div>
            <div class="promocontent">
                <img  class="promoimage" src="content.jpg">
                <div>Promotion3</div>
            </div>
              -->

        </div>
    <div class="big">
    <div class="photocontent">
            <div class="first">
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            </div>
            <div class="second">
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
            </div>
            </div>
    </div>
    </div>
    <div class="medium">
        <div class="photocontent">
                <div class="first">
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                </div>
                <div class="second">
                    <div class="photoblock">
                      <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                     <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                </div>
                <div class="third">
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                    <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                    </div>
                 </div>
        </div>
    </div>
    <div class="small">
        <div class="photocontent">
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
                <div class="photoblock">
                    <!-- JS取代內容
                    <img  class="ph" src="content.jpg">
                    <div class="pho">title1</div>
                    -->
                </div>
        </div>
    </div>

    </div>
</div>



<script>
    //回呼函式
    function getdata(callback){
        let title_array=[];
        let image_array=[];
        let url = "https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json";
        fetch(url).then(function(response){return response.json();}).then(function(data){
            data.result.results.forEach(function(attraction){
                title_array.push(attraction.stitle);
                let image = attraction.file;
                image = image.toLowerCase().split(".jpg");
                image=image[0]+".jpg"
                image_array.push(image);});
                callback({titles: title_array, images: image_array});
        });
        }
    //呼叫回呼函式處理最上面promotion區塊
    getdata(function(data){
        for(let i=0;i<3;i++){
            //新增promocontent
            let newblock=document.createElement("div");
            newblock.className="promocontent";
            let container = document.getElementsByClassName("promo")[0];
            container.appendChild(newblock);
            //新增img
            let newimg=document.createElement("img");
            newimg.className="promoimage";
            newimg.src=data.images[i];
            container = document.getElementsByClassName("promocontent")[i];
            container.appendChild(newimg);  
            //新增title
            let newtitle=document.createElement("div");
            newtitle.textContent=data.titles[i]
            //加到promocontent裡面
            container = document.getElementsByClassName("promocontent")[i];
            container.appendChild(newtitle);          
        };
        console.log(data.titles[0]);
        console.log(data.images[0]);
        //處裡下面photoblock
        for(let i=4;i<16;i++){
            //新增照片
            let newphoto=document.createElement("img");
            newphoto.className="ph";
            newphoto.src=data.images[i];
            let container = document.getElementsByClassName("photoblock")[i-4];
            container.appendChild(newphoto);
            //新增標題
            let newtitle=document.createElement("div");
            newtitle.className="pho";
            newtitle.textContent=data.titles[i]
            container = document.getElementsByClassName("photoblock")[i-4];
            container.appendChild(newtitle); 
            }
        //處理medium的情況
        for(let i=4;i<16;i++){
            //新增照片
            let newphoto=document.createElement("img");
            newphoto.className="ph";
            newphoto.src=data.images[i];
            let container = document.getElementsByClassName("photoblock")[i+8];
            container.appendChild(newphoto);
            //新增標題
            let newtitle=document.createElement("div");
            newtitle.className="pho";
            newtitle.textContent=data.titles[i]
            container = document.getElementsByClassName("photoblock")[i+8];
            container.appendChild(newtitle); 
            }
        //處理small的情況
        for(let i=4;i<16;i++){
            //新增照片
            let newphoto=document.createElement("img");
            newphoto.className="ph";
            newphoto.src=data.images[i];
            let container = document.getElementsByClassName("photoblock")[i+20];
            container.appendChild(newphoto);
            //新增標題
            let newtitle=document.createElement("div");
            newtitle.className="pho";
            newtitle.textContent=data.titles[i]
            container = document.getElementsByClassName("photoblock")[i+20];
            container.appendChild(newtitle); 
            }
        
        })





    
    
</script>    
</body>
</html>